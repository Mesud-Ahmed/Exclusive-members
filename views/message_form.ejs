<!DOCTYPE html>
<html>
  <head>
<%- include('partials/head') %>
  </head>
  <body>
    <div class="container">
      <div class="card" style="max-width: 700px; margin: 0 auto">
        <header
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <h1>Create a new message</h1>
          <a class="muted" href="/">Back to home</a>
        </header>

        <% if (errors && errors.length) { %>
        <div class="flash error">
          <ul>
            <% errors.forEach(err => { %>
            <li><%= err.msg %></li>
            <% }) %>
          </ul>
        </div>
        <% } %>

        <form action="/messages/new" method="post">
          <div class="field">
            <label>Title</label>
            <input
              type="text"
              name="title"
              value="<%= old.title || '' %>"
              required
            />
          </div>

          <div class="field">
            <label>Text</label>
            <textarea name="text" rows="6" required>
<%= old.text || '' %></textarea
            >
          </div>

          <div class="field">
            <button type="submit">Post</button>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
