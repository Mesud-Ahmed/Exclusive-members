<!DOCTYPE html>
<html>
  <head>
    <%- include('partials/head') %>

  </head>
  <body>
    <div class="container center">
      <div class="card" style="max-width: 600px; width: 100%">
        <h1>Create account</h1>

        <% if (messages && messages.error) { %>
        <div class="flash error">
          <% messages.error.forEach(m => { %>
          <p><%= m %></p>
          <% }) %>
        </div>
        <% } %> <% if (messages && messages.success) { %>
        <div class="flash success">
          <% messages.success.forEach(m => { %>
          <p><%= m %></p>
          <% }) %>
        </div>
        <% } %> <% if (errors && errors.length) { %>
        <div class="flash error">
          <ul>
            <% errors.forEach(err => { %>
            <li><%= err.msg %></li>
            <% }) %>
          </ul>
        </div>
        <% } %>

        <form action="/signup" method="post" novalidate>
          <div class="field">
            <label>First name</label>
            <input
              type="text"
              name="firstName"
              value="<%= old.firstName || '' %>"
            />
          </div>
          <div class="field">
            <label>Last name</label>
            <input
              type="text"
              name="lastName"
              value="<%= old.lastName || '' %>"
            />
          </div>
          <div class="field">
            <label>Email</label>
            <input type="email" name="email" value="<%= old.email || '' %>" />
          </div>
          <div class="field">
            <label>Password</label>
            <input type="password" name="password" />
          </div>
          <div class="field">
            <label>Confirm password</label>
            <input type="password" name="confirmPassword" />
          </div>

          <div class="field">
            <button type="submit">Create account</button>
          </div>
        </form>

        <p class="muted">
          Already have an account? <a href="/login">Log in</a>
        </p>
      </div>
    </div>
  </body>
</html>
